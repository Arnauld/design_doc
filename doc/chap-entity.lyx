#LyX 1.6.7 created this file. For more info see http://www.lyx.org/
\lyxformat 345
\begin_document
\begin_header
\textclass article
\use_default_options true
\language english
\inputencoding utf8
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Section
Entity
\end_layout

\begin_layout Subsection
Entity-Attribute-Value and Type Object
\end_layout

\begin_layout Standard
Entity-Attribute-Value is a common pattern that allows dynamic and extensible
 definition of entity.
 It allows to design the entities in such a way that attributes (properties
 or parameters) could be added dynamically without the need to change the
 database schema.
 
\end_layout

\begin_layout Standard
The dynamic model feature enables dynamic customisation of models and is
 also applicable to a multi-tenant environment.
 
\end_layout

\begin_layout Standard
Basically the roles could be summarized:
\end_layout

\begin_layout Itemize
The entity: the item being described.
 One uses the word "entity" to refer to the structures used to store and
 manage data.
 Conceptually, entities are often compared to a table in a database.
 However, entities include much more than a database table.
 An entity includes definitions of the forms, views, and behavior of the
 application related to a specific record type.
 In addition to the default system entities, the document describes the
 definition/creation of custom entities.
 System entities would be: User, Request, Account, Group, Customer, Document...
\end_layout

\begin_layout Itemize
The attribute, parameter, field or property.
 Each field in an entity form represents an attribute of the entity.
 You can add custom attributes to system entities to supplement the system
 attributes that are provided.
 For most of the system entities, there are more attributes than fields
 that you see on the form.
 The attribute descriptor would contain the following columns: an attribute
 ID, attribute name, description, data type, and columns assisting input
 validation, e.g., maximum string length and regular expression, set of permissibl
e values, etc.
 All entities have some entity relationships with some system entities.
 For example, the Modified By (modifiedby) and Created By (createdby) attributes
 are lookup attributes required by the entity relationships to the system
 User entity.
 Those are system attributes manage by the application.
\end_layout

\begin_layout Itemize
The value of the attribute for an entity.
\end_layout

\begin_layout Standard
From TypeObject Pattern:
\end_layout

\begin_layout Quotation
Decouple instances from their classes so that those classes can be implemented
 as instances of a class.
 Type Object allows new "classes" to be created dynamically at runtime
\end_layout

\begin_layout Standard
Similarly new entity descriptor could be created or modified at runtime.
\end_layout

\begin_layout Standard
The mapping to OO class is straigthforward: 
\end_layout

\begin_layout Itemize
an entity is described by an entity descriptor: an instance is described
 by its class
\end_layout

\begin_layout Itemize
attribute: class's fields
\end_layout

\begin_layout Itemize
the attribute value of the entity: the value of the corresponding field
 instance
\end_layout

\begin_layout Standard
Thus one will have the Figure 
\begin_inset CommandInset ref
LatexCommand ref
reference "Flo:EAV-Diagram"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Entity-Attribute-Value and descriptors
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Flo:EAV-Diagram"

\end_inset


\begin_inset Graphics
	filename diagrams/entity-def.png
	scale 50

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Further readings
\end_layout

\begin_layout Itemize
\begin_inset CommandInset href
LatexCommand href
name "Wikipedia: EAV"
target "http://en.wikipedia.org/wiki/Entity-attribute-value_model"

\end_inset


\end_layout

\begin_layout Itemize
\begin_inset CommandInset href
LatexCommand href
name "EAV/CR Data Modelling"
target "http://ycmi.med.yale.edu/nadkarni/eav_cr_frame.htm"

\end_inset


\end_layout

\begin_layout Itemize
The Type Object Pattern - Ralph Johnson and Bobby Woolf
\end_layout

\begin_layout Subsection
Attribute Types aka Data Type
\end_layout

\begin_layout Standard
We defines three categories of attribute type:
\end_layout

\begin_layout Itemize
regular
\end_layout

\begin_layout Itemize
reference
\end_layout

\begin_layout Itemize
virtual
\end_layout

\begin_layout Subsubsection
Native built-in types aka Regular
\end_layout

\begin_layout Itemize

\emph on
String
\emph default
: ...
 an UTF8 character sequence.
 Database type can change (varchar2, text/clob) depending on the maximum
 length definition.
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

Colonel Jack O'Neil
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset

L'Arche de vérité
\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Quotes eld
\end_inset


\begin_inset Quotes erd
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\emph on
Text
\emph default
: an UTF8 character sequence (mapped to text/clob)
\end_layout

\begin_layout Itemize

\emph on
Html/Xml
\emph default
 : an html/xml content.
 Also to create static HTML-formatted text to be displayed in record views.
\end_layout

\begin_layout Itemize

\emph on
Password
\emph default
: an UTF8 character sequence not displayable and persisted as MD5
\end_layout

\begin_layout Itemize

\emph on
Locale
\emph default
: a ...
 locale
\end_layout

\begin_layout Itemize

\emph on
LocalizedString
\emph default
: list of tuple (
\emph on
Locale
\emph default
,
\emph on
 String
\emph default
)
\end_layout

\begin_layout Itemize

\emph on
LocalizedText
\emph default
: 
\end_layout

\begin_layout Itemize

\emph on
Identifier
\emph default
: special case of 
\emph on
String
\emph default
 that use only a very limited subset of ANSI characters [a-zA-Z_]+[a-zA-Z0-9_]*.
 This type is mainly used to have a valid but human readable identifier
 on objects, e.g.
 Entity's name or Property's name.
\end_layout

\begin_layout Itemize

\emph on
Integer
\emph default
: natural numbers ie -7, 0, 3, 14, 98756.
 Creates a field to specify positive or negative numbers.
 You can specify a range with the Min and Max Value fields.
 
\end_layout

\begin_deeper
\begin_layout Itemize
The Integer View can be:
\end_layout

\begin_deeper
\begin_layout Itemize
a basic text field allowing only integer number
\end_layout

\begin_layout Itemize
a spinner field...
\end_layout

\begin_layout Itemize
component that display a predefined set of value: combobox, radiobox
\end_layout

\begin_layout Itemize
component that display a predefined set of value and allow multiple selection:
 checkbox, list...
\end_layout

\end_deeper
\begin_layout Itemize
The constraints can be:
\end_layout

\begin_deeper
\begin_layout Itemize
positive/negative
\end_layout

\begin_layout Itemize
range
\end_layout

\begin_layout Itemize
min, max
\end_layout

\begin_layout Itemize
autoincrement
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize

\emph on
Double
\emph default
: 
\end_layout

\begin_layout Itemize

\emph on
Boolean
\emph default
: the Boolean View can be 
\end_layout

\begin_deeper
\begin_layout Itemize
combobox
\end_layout

\begin_layout Itemize
checkbox
\end_layout

\begin_layout Itemize
radioboxes
\end_layout

\end_deeper
\begin_layout Itemize

\emph on
Timestamp
\emph default
: the number of milliseconds that have passed since January 1, 1970 00:00:00.000
 GMT.
\end_layout

\begin_deeper
\begin_layout Itemize

\emph on
DateTime
\emph default
: 2010/02/03 17:45:17
\end_layout

\begin_deeper
\begin_layout Itemize
database built-in timestamp
\end_layout

\begin_layout Itemize
String in ISO8601 format (yyyy-MM-ddTHH:mm:ss.SSS)
\end_layout

\begin_layout Itemize
see org.joda.time.LocalDateTime
\end_layout

\end_deeper
\begin_layout Itemize

\emph on
Date
\emph default
: 2010/02/03.
 
\end_layout

\begin_deeper
\begin_layout Itemize
Special case of DateTime where Time is not taken into account
\end_layout

\begin_layout Itemize
String in ISO8601 format (yyyy-MM-dd)
\end_layout

\begin_layout Itemize
see org.joda.time.LocalDate
\end_layout

\end_deeper
\begin_layout Itemize

\emph on
Time
\emph default
: 17:45:17.
 
\end_layout

\begin_deeper
\begin_layout Itemize
Special case of DateTime where Date is not taken into account
\end_layout

\begin_layout Itemize
String in ISO8601 format (HH:mm:ss.SSSZZ)
\end_layout

\begin_layout Itemize
see org.joda.time.LocalTime 
\end_layout

\end_deeper
\begin_layout Itemize
Binary
\end_layout

\begin_deeper
\begin_layout Itemize
raw binary data, can be used as placeholder for api/script...
\end_layout

\end_deeper
\end_deeper
\begin_layout Subsubsection
Advanced type: Reference and Virtual
\end_layout

\begin_layout Itemize
Attachment [NEEDWORK:special case of Reference?]
\end_layout

\begin_deeper
\begin_layout Itemize
allow file upload
\end_layout

\end_deeper
\begin_layout Itemize
Reference/URN
\end_layout

\begin_deeper
\begin_layout Itemize
allow to define reference on high-level object or entities such as user,
 customer, account, request, message, notification, entity, resource (document,
 attachment...)
\end_layout

\begin_layout Itemize
The reference descriptor should probably be strongly typed, to prevent the
 usage of different kind of reference on the same entities.
 The following case should be disallowed :
\end_layout

\begin_deeper
\begin_layout Itemize
Entity(
\begin_inset Quotes eld
\end_inset

Company
\begin_inset Quotes erd
\end_inset

).get(
\begin_inset Quotes eld
\end_inset

Protoss
\begin_inset Quotes erd
\end_inset

).responsible = ref:user/3f2504e0
\end_layout

\begin_layout Itemize
Entity(
\begin_inset Quotes eld
\end_inset

Company
\begin_inset Quotes erd
\end_inset

).get(
\begin_inset Quotes eld
\end_inset

Zerg
\begin_inset Quotes erd
\end_inset

).responsible = ref:group/85b12d34
\end_layout

\end_deeper
\begin_layout Itemize
Thus type definition would/could require an optional constraints on type:
\end_layout

\begin_deeper
\begin_layout Itemize
ref:user reference to any user
\end_layout

\begin_layout Itemize
ref:user?namespace=asgard reference to any user that belongs to the 
\begin_inset Quotes eld
\end_inset

asgard
\begin_inset Quotes erd
\end_inset

 namespace (@see Namespace)
\end_layout

\begin_layout Itemize
ref:entity/Address, 
\end_layout

\begin_layout Itemize
ref:entity/Company/Address/Street
\end_layout

\end_deeper
\begin_layout Itemize
Examples:
\end_layout

\begin_deeper
\begin_layout Itemize
ref:user/3f2504e0
\end_layout

\begin_layout Itemize
ref:entity/Address
\end_layout

\begin_layout Itemize
ref:entity/Company/110e8400-e29b/Address/Street ...
\end_layout

\begin_layout Itemize
ref:document/aef8445/text+html
\end_layout

\end_deeper
\begin_layout Itemize
[ROUGH] Find a suitable syntax
\end_layout

\begin_deeper
\begin_layout Itemize
ref:entity/Company[@namespace=asgard]/Address/Street.
 
\end_layout

\begin_layout Itemize
XPath like? urn compatible (RFC 
\series bold
3986
\series default
)?
\end_layout

\begin_layout Itemize
urn examples:
\end_layout

\begin_deeper
\begin_layout Itemize
ldap://[2001:db8::7]/c=GB?objectClass?one
\end_layout

\begin_layout Itemize
mailto:John.Doe@example.com
\end_layout

\begin_layout Itemize
news:comp.infosystems.www.servers.unix
\end_layout

\begin_layout Itemize
tel:+1-816-555-1212
\end_layout

\begin_layout Itemize
telnet://192.0.2.16:80/
\end_layout

\begin_layout Itemize
urn:oasis:names:specification:docbook:dtd:xml:4.1.2
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Itemize
Link: support for 'external link', an url is built based on the current
 context and can be called by clicking on it.
 This can be seen as the 
\begin_inset Quotes eld
\end_inset

ES's Back Link
\begin_inset Quotes erd
\end_inset

 feature but at the entity level.
\end_layout

\begin_deeper
\begin_layout Itemize
http://thor:8080/crm/user?id=${customer_id}&open=true
\end_layout

\begin_layout Itemize
options:
\end_layout

\begin_deeper
\begin_layout Itemize
Link view can be: 
\end_layout

\begin_deeper
\begin_layout Itemize
an clickable hyperlink open a (new, dialog/internal) frame
\end_layout

\begin_layout Itemize
an iframe
\end_layout

\end_deeper
\begin_layout Itemize
(x) return result [select:result type]
\end_layout

\begin_deeper
\begin_layout Itemize
memoization (see
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Memoization"

\end_inset

)
\end_layout

\end_deeper
\end_deeper
\end_deeper
\begin_layout Itemize
Script: support for 'external field' whose value can be evaluated on-demand
 using the current entity as context for evaluation.
\end_layout

\begin_deeper
\begin_layout Itemize
Script has an uri to locate the script that will be executed, a set of key/value
 pairs as settings, and a return type.
\end_layout

\begin_deeper
\begin_layout Itemize
Return type should be any Attribute type except Script
\end_layout

\end_deeper
\begin_layout Itemize
options:
\end_layout

\begin_deeper
\begin_layout Itemize
(x) return result [select:result type]
\end_layout

\begin_deeper
\begin_layout Itemize
(_) memoization (see
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Memoization"

\end_inset

)
\end_layout

\end_deeper
\begin_layout Itemize
(_) [MOVETO:attribute_window] style [select:{link, button}]
\end_layout

\end_deeper
\begin_layout Itemize
examples:
\end_layout

\begin_deeper
\begin_layout Itemize
script:js/openCRM.js
\end_layout

\begin_layout Itemize
script:groovy/calculateBestTemplate.groovy
\end_layout

\end_deeper
\end_deeper
\begin_layout Standard
Note: both script and Link could also be attached on attribute window/view
 directly and not defined at the entity level.
\end_layout

\begin_layout Subsubsection
Memoization
\begin_inset CommandInset label
LatexCommand label
name "sub:Memoization"

\end_inset


\end_layout

\begin_layout Quote
Memoization is an optimization technique used primarily to speed up computer
 programs by having function calls avoid repeating the calculation of results
 for previously-processed inputs (wikipedia).
 
\end_layout

\begin_layout Standard
\begin_inset Float algorithm
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Naïve implementation of Memoization
\end_layout

\end_inset


\end_layout

\begin_layout LyX-Code
def preferredLocale:Locale = 
\end_layout

\begin_layout LyX-Code
  memoizedValue(PREFERRED_LOCALE, calculatePreferredLocale).asInstanceOf[Locale]
\end_layout

\begin_layout LyX-Code

\end_layout

\begin_layout LyX-Code
...
\end_layout

\begin_layout LyX-Code
def memoizedValue(key:String, provider:()=>Any):Any => {
\end_layout

\begin_layout LyX-Code
  memoizationStrategy match {
\end_layout

\begin_layout LyX-Code
    case Never => provider()
\end_layout

\begin_layout LyX-Code
    case User  => getOrInit(User.currentUser, key, provider)
\end_layout

\begin_layout LyX-Code
    case Appli => getOrInit(Application.currentApplication, key, provider)
\end_layout

\begin_layout LyX-Code
  }
\end_layout

\begin_layout LyX-Code
}
\end_layout

\begin_layout LyX-Code

\end_layout

\begin_layout LyX-Code
...
\end_layout

\begin_layout LyX-Code
def getOrInit(context:Context, key:String, provider:()=>Any):Any => {
\end_layout

\begin_layout LyX-Code
  val valueOpt = context.get(key)
\end_layout

\begin_layout LyX-Code
  if(valueOpt.isDefined)
\end_layout

\begin_layout LyX-Code
    valueOpt.get
\end_layout

\begin_layout LyX-Code
  else {
\end_layout

\begin_layout LyX-Code
    val value = provider()
\end_layout

\begin_layout LyX-Code
    context.set(key,value)
\end_layout

\begin_layout LyX-Code
    value
\end_layout

\begin_layout LyX-Code
  }
\end_layout

\begin_layout LyX-Code
}
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Paragraph*
Strategy:
\end_layout

\begin_layout Itemize
never: do not perform any memoization
\end_layout

\begin_layout Itemize
user_session: function value is cached in the current user session
\end_layout

\begin_layout Itemize
application: function value is cached at the application level
\end_layout

\begin_layout Paragraph
Options:
\end_layout

\begin_layout Itemize
timeout/ttl
\end_layout

\begin_layout Subsection
Property Descriptor
\end_layout

\begin_layout Standard
Depending on the data type that you select, you will need to specify values
 for some of the fields listed below.
\end_layout

\begin_layout Itemize
property name (Identifier)
\end_layout

\begin_layout Itemize
label: the label that will be displayed in the User Interface
\end_layout

\begin_layout Itemize
description/help text: Enter descriptive text for the field.
 This text displays when the user points the cursor at the field.
\end_layout

\begin_layout Itemize
required in context: [multiselect:{creation_form, update_form, answer_form,
 ...}]
\end_layout

\begin_layout Itemize
hooks:
\end_layout

\begin_deeper
\begin_layout Itemize
onLoad
\end_layout

\begin_layout Itemize
onChange
\end_layout

\begin_layout Itemize
onSave
\end_layout

\end_deeper
\begin_layout Subsection
Entity Descriptor
\end_layout

\begin_layout Itemize
hooks:
\end_layout

\begin_deeper
\begin_layout Itemize
onLoad
\end_layout

\begin_layout Itemize
onChange
\end_layout

\begin_layout Itemize
onSave
\end_layout

\begin_layout Itemize
onDelete
\end_layout

\end_deeper
\begin_layout Subsection
Entities Examples
\end_layout

\begin_layout Standard
This part describes some entity descriptors, in order to illustrate the
 definition of entity.
 When entities will be referred in the document, their definitions are assumed
 to be those ones.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Sample entities class diagram
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename diagrams/entity-samples.png
	scale 50

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Address
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
Address
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Street
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Cmplt
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ZipCode
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
length<=5
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
City
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
Company
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
Company
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Address
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:Address
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
Salutation
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset

Salutation
\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Code
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Int
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Label
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Localized-
\end_layout

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
Customer 
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
Customer
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FirstName
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LastName
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Email
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
~*[^@]+@[^@]+
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Salutation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:Salutation
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Company
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:Company
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Address
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:Address
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CRMLink
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Link*
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection
Request
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Sample entities request class diagram
\end_layout

\end_inset


\begin_inset Graphics
	filename diagrams/entity-sample-request.png
	scale 50

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Paragraph
RequestStd : Standard Request
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
RequestStd
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Topic
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph
RequestSAVNox: SAV Request of the Nox Corp.
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
RequestSAVNox
\emph default

\begin_inset Quotes erd
\end_inset

 that inherits 
\begin_inset Quotes eld
\end_inset


\emph on
RequestStd
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MessageRef
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
InvoiceRef
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
String
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
~[0-9]{8}-[a-zA-Z]{2}-[0-9]{4}
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TxAmount
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Numeric
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
>=0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ProductRef
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:ProductNox
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph*
RequestSAVAsgard: SAV Request of the Asgard Corp
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
RequestSAVAsgard
\emph default

\begin_inset Quotes erd
\end_inset

 that inherits 
\begin_inset Quotes eld
\end_inset


\emph on
RequestStd
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SGTeam
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:SGTeam
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Emergency
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
script/js:
\end_layout

\begin_layout Plain Layout
ContactThor
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph
RequestESSAsgard: ESS Request of the Asgard Corp
\end_layout

\begin_layout Standard
Define an 
\emph on
Entity descriptor
\emph default
 named 
\begin_inset Quotes eld
\end_inset


\emph on
RequestESSAsgard
\emph default

\begin_inset Quotes erd
\end_inset

 that inherits 
\begin_inset Quotes eld
\end_inset


\emph on
RequestStd
\emph default

\begin_inset Quotes erd
\end_inset

 with the following 
\emph on
Attribute descriptors
\emph default
:
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Constraints
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Severity
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Numeric
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
[0-100[
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ProductRef
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
e:ProductAsgard
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection
Glossaire
\end_layout

\begin_layout Itemize

\emph on
EntityType
\emph default
: This type defines the principal data objects about which information has
 to be managed such as person, places, things or activities relevant to
 the application.
 An entity is an instance of an EntityType.
 It has a unique identity, independent existence, and forms the operational
 unit of consistency.
\end_layout

\begin_layout Itemize

\emph on
facet
\emph default
: This element provides information that specializes the usage of a type
 – for instance, you can use the precision (that is,.
 accuracy) facet to define the precision of a DateTime property.
\end_layout

\begin_layout Itemize

\emph on
namespace
\emph default
: A name defined on the schema that is then subsequently used to prefix
 identifiers to form the namespace qualified name of a StructuralType.
 CSDL enforces a maximum length of 512 characters for namespace values.
\end_layout

\begin_layout Itemize

\emph on
namespace qualified name
\emph default
: A QualifiedName that is used to refer to StructuralTypes using the name
 of the namespace, followed by a period, followed by the name of the StructuralT
ype.
\end_layout

\begin_layout Subsection
Constraints
\end_layout

\begin_layout Standard
Constraints can be added on both entity and property.
 It allows to ensure values are valid and match some criteria.
 It is also a way to hide information based on access control.
\end_layout

\begin_layout Subsubsection
Access control
\end_layout

\begin_layout Standard
Constraints: 
\end_layout

\begin_layout Itemize
require_permission:<permission_name>
\end_layout

\begin_layout Itemize
part_of:<group_name>
\end_layout

\begin_layout Itemize
part_or_subgroup_of:<group_name>
\end_layout

\begin_layout Subsection
Views
\end_layout

\begin_layout Standard
Fundamental customization capabilities include selecting the fields to display
 in the forms and how lists of records are displayed.
\end_layout

\begin_layout Standard
EntityView and PropertyView
\end_layout

\begin_layout Standard
The entity view renders an instance of a specific entity into a form suitable
 for interaction, typically a user interface element.
 Multiple views can exist for a single definition of entity for different
 purposes.
 Depending on the context it is seen, the entity could be displayed differently.
 An entity view defines the set of properties it displays and (if possible)
 the layout.
 For example, for a particular entity definition, one could define a view
 for the search result display, for the request details display, for a dedicated
 SSM...
\end_layout

\begin_layout Standard
This will allow an entity to be displayed differently depending on the context,
 some properties could be hidden for example.Roughly the rendering of the
 view corresponds to the html code used to display an entity instance.
 [IDEA] the view could also be used to filter data through api call.
\end_layout

\begin_layout Standard
Views are a type of predefined query that are available to all users.
 They are available almost everywhere you see a list of records.
 You will usually see a drop-down list that displays system views that are
 available.
 Each of these views has different filter criteria or presents different
 columns of data.
\end_layout

\begin_layout Standard
You can design how your forms look by selecting different tabs, sections,
 and fields.
 The user interface lets you add, remove, and rearrange these elements to
 design forms that fit the business.
\end_layout

\begin_layout Standard
Property options:
\end_layout

\begin_layout Itemize
editable/enable/
\end_layout

\begin_layout Subsection
Storage [PROPOSAL]
\end_layout

\begin_layout Subsubsection
Descriptors
\end_layout

\begin_layout Standard
Storage of all entity descriptors and property descriptor would be done
 in a dedicated repository.
 All entities would use the same repository to store their description,
 no matters the namespace or the tenant.
\end_layout

\begin_layout Paragraph
EntityDescriptor
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
entity_descriptor_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PK:int32
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unique identifier of the descriptor
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
identifier
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A human readable and environment independant identifier
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
namespace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fk:namespace
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
The namespace this descriptor belongs to
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
label
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fk:localized_string
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Localized labels of the descriptor can be used in EntityView definition
 for example
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
storage
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
enum:StorageType
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Indicates if instances of this entity are stored in a dedicated table or
 use the generic mode
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph*
StorageType
\end_layout

\begin_layout Itemize
generic (eav)
\end_layout

\begin_layout Itemize
key/value-store (xml,json,pbuf,...)
\end_layout

\begin_layout Itemize
table mapping: maps the entity to a database table and each property (flatten
 first nested entity will be handled later) to a dedicated column.
 One should have the possibility to set also a converter for the column
 map.
\end_layout

\begin_layout Itemize
virtual/external: the entity is not persisted and made of virtual/external
 attributes only.
\end_layout

\begin_layout Paragraph*
EntityDescriptorParameter 
\end_layout

\begin_layout Standard
It inherits GenericParameterTable.
 Since no search would be performed against their values, the parameter
 value could be stored in a raw xml or pbuf...
\end_layout

\begin_layout Paragraph*
Property Descriptor
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="3">
<features>
<column alignment="center" valignment="top" width="7em">
<column alignment="center" valignment="top" width="6em">
<column alignment="center" valignment="top" width="14em">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
property_descriptor_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PK:int32
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unique identifier of the descriptor
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
identifier
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A human readable and environment independant identifier
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
label
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
fk:localized_string
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
property_type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
enum[String, Identifier, Integer, Timestamp, Reference, ...]
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
multi_value
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bool
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Paragraph*
Relationship PropertyDescriptor-EntityDescriptor:
\end_layout

\begin_layout Standard
<<<<<<< HEAD:doc/chap-entity.lyxTwo possibilities:
\end_layout

\begin_layout Itemize
allowing property definition to be shared: thus the relationship is done
 through a join table
\end_layout

\begin_layout Itemize
no sharing of property definition: the propertyDescriptor would have a dedicated
 column for the entity descriptor it belongs to.
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Name
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Type
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Description
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
entity_descriptor_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FK:int32
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unique identifier of the entity descriptor
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
property_descriptor_id
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
FK:int32
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
unique identifier of the property descriptor
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

=======>>>>>>> e0bf342ff507af8d300249e1ccf1aa1dd14c9668:doc/chap-entity.lyx
\end_layout

\begin_layout Paragraph*
[REMARKS/CHOICE] why an int32 instead of a uuid for identifier
\end_layout

\begin_layout Itemize
descriptor_id will referenced by almost all rows of the database items:
 for each request, customer, account...
 
\end_layout

\begin_deeper
\begin_layout Itemize
int32 is a lot cheaper than a string[32]
\end_layout

\begin_layout Itemize
join would be a lot more efficient
\end_layout

\end_deeper
\begin_layout Itemize
Since the number of descriptor would be less than the capacity of an int32
 and the creation of descriptor wouldn't require a very high concurrency
 locking mechanism, thus a sequence would enough.
\end_layout

\begin_layout Standard
Entity-AttributeValue
\end_layout

\begin_layout Itemize
full eav: one table per data type
\end_layout

\begin_deeper
\begin_layout Itemize
[RoUGH] first the metadata is read, according to it the SQL is generated
 by joining on appropriate table based on its type+attribute_descriptor_id+entit
y_id
\end_layout

\end_deeper
\begin_layout Itemize
one table for all value types with dedicated column for main type (see ES...)
\end_layout

\begin_layout Itemize
one table key/value where value would be a blob 
\end_layout

\end_body
\end_document
